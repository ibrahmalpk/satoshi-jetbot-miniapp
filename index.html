<!-- Final Sistem: Çoklu kullanıcı desteği, localStorage ile kayıt, çalıştırma yönergeleri için hazır -->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SatoshiJet - Multi-User Enabled</title>
  <style>
    body { font-family: Arial; background: #0d0d0d; color: #00ffd5; padding: 20px; }
    .device, .merge, .result, .withdraw, .admin-approve, .wallet, .deposit, .purchase, .rewards, .leaderboard, .history {
      border: 1px solid #00ffd5; padding: 15px; margin-bottom: 15px; border-radius: 10px;
    }
    h3 { margin: 0 0 10px; }
    button { padding: 10px; border: none; border-radius: 5px; background-color: #00ffd5; color: #000; cursor: pointer; }
    button:hover { background-color: #00c0aa; }
    input, select { width: 100%; padding: 10px; margin-bottom: 10px; }
    .balance-info { font-weight: bold; }
    .leaderboard ol { padding-left: 20px; }
  </style>
</head>
<body>
  <h1>SatoshiJet Dashboard (Multi-User & Live Mode)</h1>

  <div class="wallet">
    <h3>Connect TRX Wallet</h3>
    <input type="text" id="wallet-address" placeholder="Enter your TRX Wallet Address">
    <button onclick="connectWallet()">Connect Wallet</button>
    <p id="connected-wallet"></p>
    <p class="balance-info">System Balance: <span id="user-balance">0</span> TRX</p>
  </div>

  <div class="deposit">
    <h3>Deposit TRX</h3>
    <p>Send TRX to this address:</p>
    <code>0x7936c169873c01ee8e1c2a1c126193efdf673f34</code>
    <p>After sending, enter amount and click confirm:</p>
    <input type="number" id="deposit-amount" placeholder="Enter deposited amount">
    <button onclick="confirmDeposit()">Confirm Deposit</button>
  </div>

  <div class="purchase">
    <h3>Purchase Device</h3>
    <select id="device-type">
      <option value="Normal">Normal Miner (40 TRX)</option>
      <option value="Epic">Epic Miner (80 TRX)</option>
      <option value="Legend">Legend Miner (150 TRX)</option>
    </select>
    <button onclick="buyDevice()">Buy Device</button>
  </div>

  <div class="rewards">
    <h3>Daily Earnings</h3>
    <button onclick="collectEarnings()">Collect Earnings</button>
    <p>Total Earned: <span id="total-earned">0</span> TRX</p>
    <p>(Max daily earnings: 100 TRX)</p>
  </div>

  <script>
    let userWallet = "";
    let userData = {
      balance: 0,
      earned: 0,
      devices: []
    };

    function loadUserData() {
      const data = localStorage.getItem(userWallet);
      if (data) userData = JSON.parse(data);
      updateUI();
    }

    function saveUserData() {
      localStorage.setItem(userWallet, JSON.stringify(userData));
    }

    function updateUI() {
      document.getElementById("user-balance").textContent = userData.balance.toFixed(2);
      document.getElementById("total-earned").textContent = userData.earned.toFixed(2);
    }

    function connectWallet() {
      const input = document.getElementById("wallet-address").value;
      if (!input.startsWith("T") && !input.startsWith("0x")) {
        alert("Please enter a valid TRX wallet address.");
        return;
      }
      userWallet = input;
      document.getElementById("connected-wallet").textContent = `Connected Wallet: ${userWallet}`;
      loadUserData();
    }

    function confirmDeposit() {
      const amount = parseFloat(document.getElementById("deposit-amount").value);
      if (!amount || amount <= 0) {
        alert("Please enter a valid deposit amount.");
        return;
      }
      userData.balance += amount;
      saveUserData();
      updateUI();
      alert(`${amount} TRX added to your system balance.`);
    }

    function buyDevice() {
      const type = document.getElementById("device-type").value;
      let cost = 0, yieldRate = 0;
      if (type === "Normal") { cost = 40; yieldRate = 3; }
      else if (type === "Epic") { cost = 80; yieldRate = 5; }
      else if (type === "Legend") { cost = 150; yieldRate = 7; }

      if (userData.balance < cost) {
        alert("Not enough TRX to purchase this device.");
        return;
      }
      userData.balance -= cost;
      userData.devices.push({ type, yieldRate });
      saveUserData();
      updateUI();
      alert(`${type} device purchased!`);
    }

    function collectEarnings() {
      let earnings = 0;
      userData.devices.forEach(device => earnings += device.yieldRate);
      if (earnings + userData.earned > 100) {
        alert("Daily earnings limit reached (100 TRX). Reset tomorrow.");
        return;
      }
      userData.balance += earnings;
      userData.earned += earnings;
      saveUserData();
      updateUI();
      alert(`You earned ${earnings.toFixed(2)} TRX today.`);
    }
  </script>
</body>
</html>
